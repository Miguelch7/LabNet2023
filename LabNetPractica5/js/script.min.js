const SCORE_INICIO=20,HIGH_SCORE=parseInt(localStorage.getItem("high-score"))||0,MIN_NUMBER=1,MAX_NUMBER=20,body=document.querySelector("body"),btnReiniciar=document.querySelector("#btn-reiniciar"),btnSumbit=document.querySelector("#btn-submit"),spanHighScore=document.querySelector("#high-score"),spanScore=document.querySelector("#score"),inputNumero=document.querySelector("#input-numero"),pNumeroOculto=document.querySelector("#numero-oculto"),pResultado=document.querySelector("#resultado"),pMensaje=document.querySelector("#mensaje"),form=document.querySelector("form"),h2Intervalos=document.querySelector("#intervalos"),esValido=(t,e,r)=>t>=e&&t<=r;class App{score=20;highScore=HIGH_SCORE;min=1;max=20;numeroAleatorio=0;constructor(){this.initApp()}initApp(){this.reestablecerValores(),form.addEventListener("submit",t=>this.formSubmit(t)),btnReiniciar.addEventListener("click",t=>this.reestablecerValores())}formSubmit(t){t.preventDefault();let e=parseInt(t.target[0].value);e&&this.validarNumero(e)}reestablecerValores(){this.score=20,spanScore.textContent=this.score,this.highScore=localStorage.getItem("high-score")||this.highScore,spanHighScore.textContent=this.highScore,h2Intervalos.textContent=`(entre ${this.min} y ${this.max})`,this.numeroAleatorio=Math.floor(Math.random()*this.max+this.min),pNumeroOculto.textContent="?",body.classList=[],pResultado.textContent="Resultado",this.ocultarMensajeError(),this.activarBtnSubmit(),this.limpiarInput()}validarNumero(t){if(!esValido(t,this.min,this.max)){this.mostrarMensajeError();return}this.ocultarMensajeError(),this.compararNumero(t)}compararNumero(t){if(t==this.numeroAleatorio)return this.mostarResultadoGanador(t);let e="";t>this.numeroAleatorio&&(e="Muy Alto!"),t<this.numeroAleatorio&&(e="Muy Bajo!"),pResultado.textContent=e,this.score--,spanScore.textContent=this.score,0==this.score&&this.mostarResultadoPerdedor(),this.limpiarInput()}mostrarMensajeError(){pMensaje.textContent=`Debes ingresar un n\xfamero del ${this.min} al ${this.max}`,pMensaje.classList.remove("hidden")}ocultarMensajeError(){pMensaje.textContent="",pMensaje.classList.add("hidden")}mostrarNumeroOculto(){pNumeroOculto.textContent=this.numeroAleatorio}limpiarInput(){inputNumero.value=""}mostarResultadoGanador(){Swal.fire({title:"Ganaste!",text:`Tu puntuaci\xf3n es ${this.score}`,icon:"success",confirmButtonColor:"#198754"}),this.score>this.highScore&&(localStorage.setItem("high-score",this.score),this.highScore=this.score),pResultado.textContent="Ganaste!",this.mostrarNumeroOculto(),this.desactivarBtnSubmit(),body.classList.add("background")}mostarResultadoPerdedor(){Swal.fire({title:"Perdiste :c",text:`El n\xfamero oculto era el ${this.numeroAleatorio}`,icon:"error",confirmButtonColor:"#dc3545"}),pResultado.textContent="Perdiste! :c",this.mostrarNumeroOculto(),this.desactivarBtnSubmit(),body.classList.add("background-red")}activarBtnSubmit(){btnSumbit.removeAttribute("disabled")}desactivarBtnSubmit(){btnSumbit.setAttribute("disabled",!0)}}const app=new App;app.initApp();